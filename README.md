# Setup
To download this repository, clone it using git:
`git clone https://github.com/CrystalCo/vulnerability_detection.git`

After cloning repo, `cd` into that folder, then run `git lfs pull` to unzip the large files. (Requires installation of git lfs.  `git lfs install` to install.)

Create an ENV variable with the path to this project, and call it `VUL_PATH`
On Linux/MacOS example:
```
pwd
export VUL_PATH=/Users/<username>/Desktop/vulnerability_detection/
```

# 0_SYSE_source2slice
Original code that converts source code to slices.


# SYSE_1_isVulnerable
Contains the original source code for vulnerability detection.
`2_Application_Codes.ipynb` is the main file to run in this folder.  It uses BGRU & BLSTM to detect whether a slice of code contains a vulnerability or not.


# SYSE_2_vulnerabilityType
Contains the follow up code that attempts to categorize the type of vulnerability.

## CWE_Data_Preprocessing
`CWE_Data_Preprocessing.ipynb` was the first step in preprocessing the data.  It collects the SARD & CVE test case IDs for all the source slices we have.  Then, it scrapes the Internet for the CWE attributes for each SARD & CVE ID. Finally, it ouputs 2 files: `CWE_DF.csv` & `CVE_DF.csv`.
CWE_DF.csv contains all the unique CWE IDs, their details, and counts*.
CVE_DF.csv contains all the unique CVE IDs, their descriptions & counts*, and the CWE-ID associated with them if applicable.

*number of times they appear in the source code file.

## Grouping By Abstraction
`Grouping_By_Abstraction.ipynb` then collects all the CWE IDs found in the previous step, and creates a tree of relationships between these CWEs.  CWEs were grouped by similarity, defined by the cwe website.  A dictionary of SARD & CVE IDs mapped to their respective group ID is created, and saved to `SARD_CVE_to_groups.csv`.

